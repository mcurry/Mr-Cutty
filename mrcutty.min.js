(function(){var m="http://cdn.pseudocoder.com/mrcutty/";var h={init:function(){if(!Array.prototype.inArray){Array.prototype.inArray=function(p){for(var o=0;o<this.length;o++){if(this[o]==p){return true}}return false}}},hash:function(q){var p=0;for(var o=0;o<q.length;o++){p+=q.charCodeAt(o)}return p},rand:function(p,o){return Math.floor(Math.random()*(o-p+1)+p)},createElement:function(q,p,o){var r=document.createElement(q);for(key in p){r.style[key]=p[key]}for(key in o){r.setAttribute(key,o[key])}return r},findPos:function(o){var p=curtop=0;if(o.offsetParent){do{p+=o.offsetLeft;curtop+=o.offsetTop}while(o=o.offsetParent);return{left:p,top:curtop-window.scrollY}}return false}};function c(y,o,r){var s=o.y+((r.y-o.y)/2);var v=[];var p=o;for(i=0;i<5;i++){temp={start:p,h:0,rate:h.rand(1,3)};if(i==9){temp.end=r}else{w=h.rand(10,50);temp.end={};temp.end.x=temp.start.x+w;diffY=r.y-o.y;diffX=r.x-o.x;temp.end.y=temp.start.y+((w/diffX)*diffY);if(temp.end.x>=r.x){temp.end.x=r.x;temp.end.y=r.y;i=10}}temp.startY=temp.start.y+((temp.end.y-temp.start.y)/2);p=temp.end;v.push(temp)}var x=0;var q=setInterval(function(){y.save();y.beginPath();y.moveTo(v[0].start.x,v[0].start.y);for(i=0;i<v.length;i++){u(v[i]);v[i].h+=v[i].rate;v[i].start.y+=h.rand(0,10)/10;v[i].end.y+=h.rand(0,10)/10}y.closePath();y.fillStyle="red";y.fill();y.restore();x++;if(x>100){clearInterval(q)}},100);function u(t){cp1x=t.start.x+((t.end.x-t.start.x)/2);cp1y=t.startY+t.h;y.quadraticCurveTo(cp1x,cp1y,t.end.x,t.end.y)}}var f={elmTypes:["img","h1","h2","h3","h4","h5","h4","li","p","object","embed","a","span"],init:function(){for(var o=0;o<f.elmTypes.length;o++){f.tagElements(f.elmTypes[o])}},tagElements:function(p){elms=document.getElementsByTagName(p);for(var o=elms.length-1;o>=0;o--){if(elms[o].tagName=="SPAN"&&elms[o].parentNode.className.indexOf("mrcutty-")!=-1){continue}if(elms[o].tagName!="P"){if(elms[o].className!=""){elms[o].className+=" "}elms[o].className+="mrcutty-to-be-carnaged"}else{newText="";for(j=0;j<elms[o].childNodes.length;j++){if(elms[o].childNodes[j].nodeType==Node.TEXT_NODE){pieces=elms[o].childNodes[j].textContent.split(" ");for(k=0;k<pieces.length;k++){newText+="<span class='mrcutty-to-be-carnaged'>"+pieces[k]+"</span> "}}else{newText+="<"+elms[o].childNodes[j].tagName+" ";attr=elms[o].childNodes[j].attributes;for(k=0;k<attr.length;k++){if(attr[k].value!=""){newText+=attr[k].name+"='"+attr[k].value+"' "}else{newText+=attr[k].name+" "}}newText+=">";newText+=elms[o].childNodes[j].innerHTML;newText+="</"+elms[o].childNodes[j].tagName+">"}}elms[o].innerHTML=newText}}},trigger:function(r){if(r.className.indexOf("mrcutty-to-be-carnaged")==-1){return}r.className=r.className.replace("mrcutty-to-be-carnaged","mrcutty-carnaged");var p={elm:r};var q=h.findPos(p.elm);p.elm.style.position="fixed";p.elm.style.left=q.left+"px";p.elm.style.top=q.top+"px";p.x=q.left;range=[-3,-2,-1,1,2,3];p.c=range[h.rand(0,5)];p.offset=h.rand(5,70);p.offset=p.c*p.offset;p.x0=p.x;p.y=q.top;p.a=0.01;p.elm.style.left=p.x+"px";p.elm.style.top=p.y+"px";var o=setInterval(function(){p.x+=p.c;var s=(p.a*(p.x0-p.x+p.offset)*(p.x0-p.x))+p.y;p.elm.style.left=p.x+"px";p.elm.style.top=s+"px";if((p.x+p.elm.offsetWidth)<0||p.x>window.innerWidth||s>window.innerHeight){p.elm.parentNode.removeChild(p.elm);clearInterval(o)}},25)}};var e={img:m+"img/google.png",idleSnd:m+"snd/google/idle.mp3",cutSnd:m+"snd/google/cut.mp3",width:200,height:260};var n={img:m+"img/lightsaber.png",idleSnd:m+"snd/lightsaber/idle.mp3",cutSnd:m+"snd/lightsaber/cut.mp3",width:200,height:260};var l={img:m+"img/bing.png",idleSnd:m+"snd/bing/idle.mp3",cutSnd:m+"snd/bing/cut.mp3",width:400,height:260};var b={img:m+"img/yahoo.png",cutSnd:m+"snd/yahoo/cut.mp3",width:200,height:202};var d={img:m+"img/chainsaw.png",idleSnd:m+"snd/chainsaw/idle.mp3",cutSnd:m+"snd/chainsaw/cut.mp3",width:200,height:260};var g={img:m+"img/jcal.png",cutSnd:m+"snd/jcal/cut.mp3",width:400,height:300};function a(){var B=h.createElement("img",{position:"fixed",top:"15px",left:"15px"},{"class":"mrcutty-loading-icon",src:"http://ajax.googleapis.com/ajax/libs/jqueryui/1.8.2/themes/smoothness/images/ui-anim_basic_16x16.gif"});document.body.appendChild(B);var x={cutting:false};var I={};var z={};var J=0;var t=0;var o=true;var C={67:d,76:n,89:b,71:e,66:l,74:g};var D={1008:n,1405:l,1184:e,1312:b,1428:g};h.init();f.init();var p=h.hash(window.location.hostname);if(D[p]){weaponClass=D[p]}else{weaponClass=d}F();K();L();y();r();G();M();E();u();H();A();document.body.removeChild(B);function r(){var O=h.createElement("img",{},{"class":"mrcutty-sound",src:m+"img/sound_mute.png"});O.addEventListener("click",function(){o=false;if(I.Snd.Idle){I.Snd.Idle.play()}N.style.display="block";O.style.display="none"},true);document.body.appendChild(O);var N=h.createElement("img",{},{"class":"mrcutty-sound",src:m+"img/sound.png"});N.addEventListener("click",function(){o=true;if(I.Snd.Idle){I.Snd.Idle.pause()}if(I.Snd.Cut){I.Snd.Cut.pause()}N.style.display="none";O.style.display="block"},true);document.body.appendChild(N);if(o){N.style.display="none"}else{O.style.display="none"}I.Snd={};if(weaponClass.idleSnd){I.Snd.Idle=h.createElement("audio",{},{loop:true,src:weaponClass.idleSnd});document.body.appendChild(I.Snd.Idle);if(!o){I.Snd.Idle.play()}}if(weaponClass.cutSnd){I.Snd.Cut=h.createElement("audio",{},{loop:true,src:weaponClass.cutSnd});I.Snd.Cut.muted=o;document.body.appendChild(I.Snd.Cut)}}function H(){window.addEventListener("scroll",function(N){z.canvas.style.top="-"+window.scrollY+"px";x.canvas.style.top="-"+window.scrollY+"px"},false)}function A(){window.addEventListener("keyup",function(N){var O=null;console.log(N.keyCode);if(C[N.keyCode]){old={top:I.canvas.style.top,left:I.canvas.style.left};weaponClass=C[N.keyCode];document.body.removeChild(I.canvas);if(I.Snd.Idle){document.body.removeChild(I.Snd.Idle)}if(I.Snd.Cut){document.body.removeChild(I.Snd.Cut)}y();r();G();M();E();I.canvas.style.top=old.top;I.canvas.style.left=old.left}},false)}function G(){window.addEventListener("mousedown",function(N){x.ctx.beginPath();x.ctx.moveTo(N.pageX,N.pageY);I.ctx.save();I.ctx.beginPath();I.ctx.clearRect(0,0,weaponClass.width,weaponClass.height/2);I.ctx.rect(0,weaponClass.buryHeight,weaponClass.width,weaponClass.height-weaponClass.buryHeight);I.ctx.clip();x.ctx.moveTo(N.pageX+J,N.pageY-weaponClass.cutHeight);x.start={x:N.pageX+(J*2.25),y:N.pageY-weaponClass.cutHeight};if(!o&&I.Snd.Idle){I.Snd.Idle.pause()}if(!o&&I.Snd.Cut){I.Snd.Cut.play()}x.cutting=true},false)}function M(){window.addEventListener("mouseup",function(N){if(!o&&I.Snd.Cut){I.Snd.Cut.pause()}if(!o&&I.Snd.Idle){I.Snd.Idle.play()}x.cutting=false;I.ctx.restore()},false)}function E(){window.addEventListener("mousemove",function(N){I.canvas.style.top=(N.clientY-weaponClass.height+30)+"px";I.canvas.style.left=(N.clientX-weaponClass.width/2)+"px";if(x.cutting){cutX=N.pageX+(J*2.25);cutY=N.pageY-weaponClass.cutHeight;x.ctx.strokeStyle="red";x.ctx.lineWidth=10;x.ctx.lineTo(cutX,cutY);x.ctx.stroke();new c(z.ctx,x.start,{x:cutX,y:cutY});x.start={x:cutX,y:cutY};elm=v(N.clientX+(J*2.25),N.clientY-weaponClass.cutHeight);if(elm){f.trigger(elm)}}if(t>N.pageX){s(1)}else{if(t<N.pageX){s(-1)}}q();t=N.pageX},false)}function u(){setInterval(function(){s();q()},100)}function v(N,O){z.canvas.style.visibility="hidden";x.canvas.style.visibility="hidden";I.canvas.style.visibility="hidden";elm=document.elementFromPoint(N,O);z.canvas.style.visibility="visible";x.canvas.style.visibility="visible";I.canvas.style.visibility="visible";return elm}function q(){I.ctx.clearRect(0,0,weaponClass.width,weaponClass.height);I.ctx.save();I.ctx.translate(weaponClass.width/2,weaponClass.height);I.ctx.rotate(J*Math.PI/180);I.ctx.drawImage(I.Img,-weaponClass.width/2,-weaponClass.height);if(x.cutting){I.ctx.beginPath();I.ctx.fillStyle="red";I.ctx.arc(0,-weaponClass.cutHeight-40,10,0,Math.PI*2);I.ctx.fill()}I.ctx.restore()}function y(){I.Img=new Image();I.Img.src=weaponClass.img;I.canvas=h.createElement("canvas",{position:"fixed",zIndex:99999},{width:weaponClass.width,height:weaponClass.height});weaponClass.buryHeight=Math.round(weaponClass.height*0.2);weaponClass.cutHeight=weaponClass.height-weaponClass.buryHeight-30;document.body.appendChild(I.canvas);I.ctx=I.canvas.getContext("2d")}function K(){z.canvas=h.createElement("canvas",{position:"fixed",zIndex:99998,top:0,left:0},{width:document.body.scrollWidth,height:document.body.scrollHeight});document.body.appendChild(z.canvas);z.ctx=z.canvas.getContext("2d")}function L(){x.canvas=h.createElement("canvas",{position:"fixed",zIndex:99997,top:0,left:0},{width:document.body.scrollWidth,height:document.body.scrollHeight});document.body.appendChild(x.canvas);x.ctx=x.canvas.getContext("2d")}function F(){document.onselectstart=function(){return false};var N=h.createElement("style",{},{type:"text/css"});N.innerHTML="*{-moz-user-select: none;}body{cursor: pointer;}.mrcutty-sound{position:fixed;top:15px;left:15px;z-index:99999;background:#fff;border:1px solid #999;padding:5px;-moz-border-radius:5px;border-radius:5px;}";document.getElementsByTagName("head")[0].appendChild(N)}function s(N){N=N||h.rand(-1,1);J+=N;J=Math.min(Math.max(J,-20),20)}}new a()})();