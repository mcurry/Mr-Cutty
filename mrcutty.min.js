(function(){var h="http://cdn.pseudocoder.com/mrcutty/";var f={init:function(){if(!Array.prototype.inArray){Array.prototype.inArray=function(n){for(var m=0;m<this.length;m++){if(this[m]==n){return true}}return false}}},hash:function(o){var n=0;for(var m=0;m<o.length;m++){n+=o.charCodeAt(m)}return n},rand:function(n,m){return Math.floor(Math.random()*(m-n+1)+n)},createElement:function(o,n,m){var p=document.createElement(o);for(key in n){p.style[key]=n[key]}for(key in m){p.setAttribute(key,m[key])}return p},findPos:function(m){var n=curtop=0;if(m.offsetParent){do{n+=m.offsetLeft;curtop+=m.offsetTop}while(m=m.offsetParent);return{left:n,top:curtop}}return false}};function b(v,m,p){var q=m.y+((p.y-m.y)/2);var s=[];var n=m;var x=["DIV"];for(i=0;i<5;i++){temp={start:n,h:0,rate:f.rand(1,3)};if(i==9){temp.end=p}else{w=f.rand(10,50);temp.end={};temp.end.x=temp.start.x+w;diffY=p.y-m.y;diffX=p.x-m.x;temp.end.y=temp.start.y+((w/diffX)*diffY);if(temp.end.x>=p.x){temp.end.x=p.x;temp.end.y=p.y;i=10}}temp.startY=temp.start.y+((temp.end.y-temp.start.y)/2);n=temp.end;s.push(temp)}var u=0;var o=setInterval(function(){v.save();v.beginPath();v.moveTo(s[0].start.x,s[0].start.y);for(i=0;i<s.length;i++){r(s[i]);s[i].h+=s[i].rate;s[i].start.y+=f.rand(0,10)/10;s[i].end.y+=f.rand(0,10)/10}v.closePath();v.fillStyle="red";v.fill();v.restore();u++;if(u>100){clearInterval(o)}},100);function r(t){cp1x=t.start.x+((t.end.x-t.start.x)/2);cp1y=t.startY+t.h;v.quadraticCurveTo(cp1x,cp1y,t.end.x,t.end.y)}}var e={init:function(){elms=document.getElementsByTagName("p");for(i=elms.length-1;i>=0;i--){newText="";for(j=0;j<elms[i].childNodes.length;j++){if(elms[i].childNodes[j].nodeType==Node.TEXT_NODE){pieces=elms[i].childNodes[j].textContent.split(" ");for(k=0;k<pieces.length;k++){newText+="<span class='wrapped'>"+pieces[k]+"</span> "}}else{newText+=elms[i].childNodes[j].innerHTML}}elms[i].innerHTML=newText}},trigger:function(p){if(p.className!="wrapped"){return}p.className="flying";var n={elm:p};var o=f.findPos(n.elm);n.elm.style.position="fixed";n.elm.style.left=o.left+"px";n.elm.style.top=o.top+"px";n.x=o.left;range=[-3,-2,-1,1,2,3];n.c=range[f.rand(0,5)];n.offset=f.rand(5,70);n.offset=n.c*n.offset;n.x0=n.x;n.y=o.top;n.a=0.01;n.elm.style.left=n.x+"px";n.elm.style.top=n.y+"px";var m=setInterval(function(){n.x+=n.c;var q=(n.a*(n.x0-n.x+n.offset)*(n.x0-n.x))+n.y;n.elm.style.left=n.x+"px";n.elm.style.top=q+"px";if(n.x<0||n.x>window.innerWidth||q>window.innerHeight){clearInterval(m)}},25)}};var d={img:h+"img/google.png",width:200,height:260,buryHeight:90,cutHeight:140};var l={img:h+"img/lightsaber.png",width:200,height:260,buryHeight:90,cutHeight:140};var g={img:h+"img/bing.png",width:400,height:260,buryHeight:90,cutHeight:140};var c={img:h+"img/chainsaw.png",width:200,height:260,buryHeight:90,cutHeight:140};function a(){var s={cutting:false};var A={};var u={};var B=0;var q=0;var v={1008:l};f.init();e.init();var n=f.hash(window.location.hostname);if(v[n]){weaponClass=v[n]}else{weaponClass=c}z();C();D();t();y();E();x();m();function y(){window.addEventListener("mousedown",function(F){s.ctx.beginPath();s.ctx.moveTo(F.clientX,F.clientY);A.ctx.save();A.ctx.beginPath();A.ctx.clearRect(0,0,weaponClass.width,weaponClass.height/2);A.ctx.rect(0,weaponClass.buryHeight,weaponClass.width,weaponClass.height-weaponClass.buryHeight);A.ctx.clip();s.ctx.moveTo(F.clientX+B,F.clientY-weaponClass.cutHeight);s.start={x:F.clientX+(B*2.25),y:F.clientY-weaponClass.cutHeight};s.cutting=true},false)}function E(){window.addEventListener("mouseup",function(F){s.cutting=false;A.ctx.restore()},false)}function x(){window.addEventListener("mousemove",function(F){A.canvas.style.top=(F.clientY-weaponClass.height+30)+"px";A.canvas.style.left=(F.clientX-weaponClass.width/2)+"px";if(s.cutting){cutX=F.clientX+(B*2.25);cutY=F.clientY-weaponClass.cutHeight;s.ctx.strokeStyle="red";s.ctx.lineWidth=10;s.ctx.lineTo(cutX,cutY);s.ctx.stroke();new b(u.ctx,s.start,{x:cutX,y:cutY});s.start={x:cutX,y:cutY};elm=r(cutX,cutY);if(elm){e.trigger(elm)}}if(q>F.clientX){p(1)}else{if(q<F.clientX){p(-1)}}o();q=F.clientX},false)}function m(){setInterval(function(){p();o()},100)}function r(F,G){u.canvas.style.visibility="hidden";s.canvas.style.visibility="hidden";A.canvas.style.visibility="hidden";elm=document.elementFromPoint(F,G);u.canvas.style.visibility="visible";s.canvas.style.visibility="visible";A.canvas.style.visibility="visible";return elm}function o(){A.ctx.clearRect(0,0,weaponClass.width,weaponClass.height);A.ctx.save();A.ctx.translate(weaponClass.width/2,weaponClass.height);A.ctx.rotate(B*Math.PI/180);A.ctx.drawImage(A.Img,-weaponClass.width/2,-weaponClass.height);if(s.cutting){A.ctx.beginPath();A.ctx.fillStyle="red";A.ctx.arc(0,-weaponClass.cutHeight-40,10,0,Math.PI*2);A.ctx.fill()}A.ctx.restore()}function t(){A.Img=new Image();A.Img.src=weaponClass.img;A.canvas=f.createElement("canvas",{position:"fixed"},{width:weaponClass.width,height:weaponClass.height});document.body.appendChild(A.canvas);A.ctx=A.canvas.getContext("2d")}function C(){u.canvas=f.createElement("canvas",{position:"fixed",top:0,left:0},{height:window.innerHeight,width:window.innerWidth});document.body.appendChild(u.canvas);u.ctx=u.canvas.getContext("2d")}function D(){s.canvas=f.createElement("canvas",{position:"fixed",top:0,left:0},{width:window.innerWidth,height:window.innerHeight});document.body.appendChild(s.canvas);s.ctx=s.canvas.getContext("2d")}function z(){document.onselectstart=function(){return false};var F=f.createElement("style",{},{type:"text/css"});F.innerHTML="* { -moz-user-select: none; }";document.getElementsByTagName("head")[0].appendChild(F)}function p(F){F=F||f.rand(-1,1);B+=F;if(B>20){B--}if(B<-20){B++}}}new a()})();